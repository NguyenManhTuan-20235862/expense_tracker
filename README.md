 # D·ª± √°n Expense Tracker (Qu·∫£n l√Ω thu - chi c√° nh√¢n)

## 1. üìò M√¥ t·∫£ D·ª± √Ån

·ª®ng d·ª•ng **Expense Tracker** l√† m·ªôt h·ªá th·ªëng qu·∫£n l√Ω thu chi c√° nh√¢n, g·ªìm frontend (React + Vite) v√† backend (Node.js + Express + MongoDB). M·ª•c ti√™u c·ªßa d·ª± √°n l√† gi√∫p ng∆∞·ªùi d√πng theo d√µi thu nh·∫≠p, chi ti√™u, xem b√°o c√°o t·ªïng quan v√† qu·∫£n l√Ω ·∫£nh h·ªì s∆° ng∆∞·ªùi d√πng.

·ª®ng d·ª•ng cung c·∫•p c√°c ch·ª©c nƒÉng ch√≠nh:

- X√°c th·ª±c ng∆∞·ªùi d√πng: ƒëƒÉng k√Ω, ƒëƒÉng nh·∫≠p b·∫±ng JWT
- Qu·∫£n l√Ω Thu nh·∫≠p (Income): th√™m, xem, x√≥a, t·∫£i Excel
- Qu·∫£n l√Ω Chi ti√™u (Expense): th√™m, xem, x√≥a, t·∫£i Excel
- Dashboard: t·ªïng quan t·ªïng thu, t·ªïng chi, giao d·ªãch g·∫ßn ƒë√¢y, th·ªëng k√™ 30/60 ng√†y
- Upload ·∫£nh h·ªì s∆° ng∆∞·ªùi d√πng (multer)

## 2. üìå T√≠nh NƒÉng Ch√≠nh

### üîê X√°c th·ª±c ng∆∞·ªùi d√πng
- ƒêƒÉng k√Ω / ƒêƒÉng nh·∫≠p v·ªõi JWT (token c√≥ th·ªùi h·∫°n 1 gi·ªù)
- L·∫•y th√¥ng tin user hi·ªán t·∫°i (protected route)

### üí∏ Qu·∫£n l√Ω Thu nh·∫≠p
- Th√™m ngu·ªìn thu: `{ icon, source, amount, date }`
- L·∫•y to√†n b·ªô thu nh·∫≠p c·ªßa user
- X√≥a thu nh·∫≠p theo id
- T·∫£i d·ªØ li·ªáu thu nh·∫≠p v·ªÅ file Excel

### üßæ Qu·∫£n l√Ω Chi ti√™u
- Th√™m kho·∫£n chi: `{ icon, category, amount, date }`
- L·∫•y to√†n b·ªô chi ti√™u c·ªßa user
- X√≥a chi ti√™u theo id
- T·∫£i d·ªØ li·ªáu chi ti√™u v·ªÅ file Excel

### üìä Dashboard
- T√≠nh t·ªïng thu, t·ªïng chi, t·ªïng s·ªë d∆∞
- Th·ªëng k√™ giao d·ªãch 30/60 ng√†y v√† tr·∫£ v·ªÅ c√°c giao d·ªãch g·∫ßn ƒë√¢y

### üñºÔ∏è Upload ·∫£nh
- Upload ·∫£nh h·ªì s∆° qua endpoint `POST /api/v1/auth/upload-image` (field `image`), file l∆∞u ·ªü `backend/uploads/`

## 3. üöÄ C√¥ng Ngh·ªá S·ª≠ D·ª•ng

### Backend
- Node.js, Express
- MongoDB (Mongoose)
- JWT (jsonwebtoken)
- Multer (upload h√¨nh)
- xlsx (xu·∫•t file Excel)

### Frontend
- React, Vite
- axios, react-router-dom
- Recharts (bi·ªÉu ƒë·ªì)
- TailwindCSS

## 4. ‚öôÔ∏è C√†i ƒê·∫∑t v√† H∆∞·ªõng D·∫´n S·ª≠ D·ª•ng (Local)

### Y√™u c·∫ßu h·ªá th·ªëng
- Node.js >= 16
- npm
- MongoDB 

### 1) Backend

```powershell
cd backend
npm install
# ph√°t tri·ªÉn (nodemon)
npm run dev
# ho·∫∑c production
npm start
```

T·∫°o file `.env` trong `backend/` v·ªõi n·ªôi dung m·∫´u:

```
MONGODB_URI=<connection-string-to-mongodb>
JWT_SECRET=<some-secret-string>
PORT=8000
```

### 2) Frontend

```powershell
cd frontend
npm install
npm run dev
```

Frontend m·∫∑c ƒë·ªãnh ch·∫°y tr√™n `http://localhost:5173`. Ki·ªÉm tra v√† ch·ªânh `frontend/src/utils/apiPaths.js` n·∫øu backend s·ª≠ d·ª•ng port kh√°c (frontend hi·ªán t·∫°i ƒë·∫∑t `BASE_URL = "http://localhost:8000"`).

## 5. üõ†Ô∏è API Endpoints (Chi ti·∫øt)

T·∫•t c·∫£ endpoint c√≥ prefix `/api/v1`.

### Auth

- POST `/api/v1/auth/register`
	- Body JSON: `{ fullName, email, password, profileImageUrl? }`
	- Response: `{ id, user, token }` (201)

- POST `/api/v1/auth/login`
	- Body JSON: `{ email, password }`
	- Response: `{ id, user, token }` (200)

- GET `/api/v1/auth/getUser` (protected)
	- Header: `Authorization: Bearer <token>`
	- Response: user object (kh√¥ng bao g·ªìm password)

- POST `/api/v1/auth/upload-image`
	- multipart/form-data, field: `image`
	- Response: `{ imageUrl }`

### Income

- POST `/api/v1/income/add` (protected)
	- Body: `{ icon, source, amount, date }`
	- Response: created income object

- GET `/api/v1/income/get` (protected)
	- Response: `[ incomeObjects ]`

- DELETE `/api/v1/income/:id` (protected)

- GET `/api/v1/income/downloadexcel` (protected)
	- Tr·∫£ v·ªÅ file `income_details.xlsx`

### Expense

- POST `/api/v1/expense/add` (protected)
	- Body: `{ icon, category, amount, date }`

- GET `/api/v1/expense/get` (protected)

- DELETE `/api/v1/expense/:id` (protected)

- GET `/api/v1/expense/downloadexcel` (protected)

### Dashboard

- GET `/api/v1/dashboard` (protected)
	- Response: `{ totalBalance, totalIncome, totalExpense, last30DaysExpenses, last60DaysIncome, recentTransactions }`

## 6. üóÉÔ∏è Database & M√¥ h√¨nh d·ªØ li·ªáu (T√≥m t·∫Øt)

- `User`:
	- `fullName`, `email` (unique), `password` (ƒë∆∞·ª£c hash), `profileImageUrl`

- `Income`:
	- `userId` (ObjectId), `icon`, `source`, `amount`, `date`

- `Expense`:
	- `userId` (ObjectId), `icon`, `category`, `amount`, `date`

## 7. Video demo

## 8. T√°c gi·∫£ v√† li√™n h·ªá
- Nguy·ªÖn M·∫°nh Tu·∫•n - 0378655909

---


